<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><style type="text/css">.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled { }.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled { }.OH_footer { }</style><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Container.RegisterDecorator Method (Type, Type, Lifestyle)</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="M:SimpleInjector.Container.RegisterDecorator(System.Type,System.Type,SimpleInjector.Lifestyle)" /><meta name="Description" content="Ensures that the supplied decorator is returned and cached with the given , wrapping the original registered , by injecting that service type into the constructor of the supplied . Multiple decorators may be applied to the same ." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="SimpleInjector" /><meta name="file" content="M_SimpleInjector_Container_RegisterDecorator_2" /><meta name="guid" content="M_SimpleInjector_Container_RegisterDecorator_2" /><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="OH_outerDiv"><div class="OH_outerContent"><table class="TitleTable"><tr><td class="OH_tdTitleColumn"><h1>Container<span id="LSTEE2E2349_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_0?cpp=::|nu=.");</script>RegisterDecorator Method (Type, Type, Lifestyle)</h1></td><td class="OH_tdRunningTitleColumn">Simple Injector</td></tr></table><div id="mainSection"><div id="mainBody"><span class="introStyle"></span> <div class="summary">
            Ensures that the supplied <span class="parameter">decoratorType</span> decorator is returned and cached with
            the given <span class="parameter">lifestyle</span>, wrapping the original registered 
            <span class="parameter">serviceType</span>, by injecting that service type into the constructor of the 
            supplied <span class="parameter">decoratorType</span>. Multiple decorators may be applied to the same 
            <span class="parameter">serviceType</span>. Decorators can be applied to both open, closed, and non-generic 
            service types.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="N_SimpleInjector.htm">SimpleInjector</a><br />
    <strong>Assembly:</strong>
   SimpleInjector (in SimpleInjector.dll) Version: 4.0.0<div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Syntax</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs"><div class="OH_CodeSnippetContainerTabLeft" id="ID0ECCA_tabimgleft"> </div><div id="ID0ECCA_tab1" class="OH_CodeSnippetContainerTabFirst"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','cs','1','3');return false;">C#</a></div><div id="ID0ECCA_tab2" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','vb','2','3');return false;">VB</a></div><div id="ID0ECCA_tab3" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','asp','3','3');return false;">ASP.NET</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID0ECCA_tabimgright"> </div></div><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0ECCA_copyCode" href="#" class="OH_copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0ECCA');return false;" title="Copy">Copy</a></div></div><div id="ID0ECCA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">void</span> <span class="identifier">RegisterDecorator</span>(
	<span class="identifier">Type</span> <span class="parameter">serviceType</span>,
	<span class="identifier">Type</span> <span class="parameter">decoratorType</span>,
	<span class="identifier">Lifestyle</span> <span class="parameter">lifestyle</span>
)</pre></div><div id="ID0ECCA_code_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Sub</span> <span class="identifier">RegisterDecorator</span> ( 
	<span class="parameter">serviceType</span> <span class="keyword">As</span> <span class="identifier">Type</span>,
	<span class="parameter">decoratorType</span> <span class="keyword">As</span> <span class="identifier">Type</span>,
	<span class="parameter">lifestyle</span> <span class="keyword">As</span> <span class="identifier">Lifestyle</span>
)</pre></div><div id="ID0ECCA_code_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve" /></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0ECCA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">serviceType</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/42892f65" target="_blank">System<span id="LSTEE2E2349_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Type</a><br />The definition of the (possibly open generic) service type that will
            be wrapped by the given <span class="parameter">decoratorType</span>.</dd><dt><span class="parameter">decoratorType</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/42892f65" target="_blank">System<span id="LSTEE2E2349_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Type</a><br />The definition of the (possibly open generic) decorator type that will
            be used to wrap the original service type.</dd><dt><span class="parameter">lifestyle</span></dt><dd>Type: <a href="T_SimpleInjector_Lifestyle.htm">SimpleInjector<span id="LSTEE2E2349_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Lifestyle</a><br />The lifestyle that specifies how the returned decorator will be cached.</dd></dl><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Exceptions</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="tableSection"><table><tr><th class="ps_exceptionNameColumn">Exception</th><th class="ps_exceptionConditionColumn">Condition</th></tr><tr><td><a href="http://msdn2.microsoft.com/en-us/library/27426hcy" target="_blank">ArgumentNullException</a></td><td>Thrown when one of the arguments is a null reference.</td></tr><tr><td><a href="http://msdn2.microsoft.com/en-us/library/3w1b3114" target="_blank">ArgumentException</a></td><td>Thrown when <span class="parameter">serviceType</span> is not
            an open generic type, when <span class="parameter">decoratorType</span> does not inherit from or 
            implement <span class="parameter">serviceType</span>, when <span class="parameter">decoratorType</span>
            does not have a single public constructor, or when <span class="parameter">decoratorType</span> does 
            not contain a constructor that has exactly one argument of type 
            <span class="parameter">serviceType</span> or <a href="http://msdn2.microsoft.com/en-us/library/bb534960" target="_blank">Func<span id="LSTEE2E2349_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_4?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>TResult<span id="LSTEE2E2349_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_5?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a> where <b>T</b> is
            <span class="parameter">serviceType</span>.</td></tr></table></div><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Remarks</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><p>
            The <b>RegisterDecorator</b> method works by hooking onto the container's
            <a href="E_SimpleInjector_Container_ExpressionBuilt.htm">ExpressionBuilt</a> event. This event fires after the
            <a href="E_SimpleInjector_Container_ResolveUnregisteredType.htm">ResolveUnregisteredType</a> event, which allows
            decoration of types that are resolved using unregistered type resolution.
            </p><p>
            Multiple decorators can be applied to the same service type. The order in which they are registered
            is the order they get registered. This means that the decorator that gets registered first, gets
            applied first, which means that the next registered decorator, will wrap the first decorator, which
            wraps the original service type.
            </p><p>
            Constructor injection will be used on that type, and although it may have many constructor 
            arguments, it must have exactly one argument of the type of <span class="parameter">serviceType</span>, or an 
            argument of type <a href="http://msdn2.microsoft.com/en-us/library/bb534960" target="_blank">Func<span id="LSTEE2E2349_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_6?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>TResult<span id="LSTEE2E2349_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_7?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a> where <b>TResult</b> is <span class="parameter">serviceType</span>.
            An exception will be thrown when this is not the case.
            </p><p>
            The registered <span class="parameter">decoratorType</span> may have a constructor with an argument of type
            <a href="http://msdn2.microsoft.com/en-us/library/bb534960" target="_blank">Func<span id="LSTEE2E2349_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_8?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>TResult<span id="LSTEE2E2349_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_9?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a> where <b>T</b> is <span class="parameter">serviceType</span>. In this case, the
            will not inject the decorated <span class="parameter">serviceType</span> itself into the 
            <span class="parameter">decoratorType</span> instance, but it will inject a <a href="http://msdn2.microsoft.com/en-us/library/bb534960" target="_blank">Func<span id="LSTEE2E2349_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_10?cs=&lt;|vb=(Of |cpp=&lt;|nu=(|fs=&lt;'");</script>TResult<span id="LSTEE2E2349_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE2E2349_11?cs=&gt;|vb=)|cpp=&gt;|nu=)|fs=&gt;");</script></a> that allows
            creating instances of the decorated type, according to the lifestyle of that type. This enables
            more advanced scenarios, such as executing the decorated types on a different thread, or executing
            decorated instance within a certain scope (such as a lifetime scope).
            </p><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Examples</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div>
            Please see the <a href="M_SimpleInjector_Container_RegisterDecorator_1.htm">RegisterDecorator</a> method
            for more information.
            <div class="OH_CollapsibleAreaRegion" id="seeAlsoSection"><div class="OH_regiontitle">See Also</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_SimpleInjector_Container.htm">Container Class</a></div><div class="seeAlsoStyle"><a href="Overload_SimpleInjector_Container_RegisterDecorator.htm">RegisterDecorator Overload</a></div><div class="seeAlsoStyle"><a href="N_SimpleInjector.htm">SimpleInjector Namespace</a></div></div></div></div></div><div id="OH_footer" class="OH_footer"><p>Copyright (c) 2010 - 2015 Simple Injector Contributors</p> </div></body></html>