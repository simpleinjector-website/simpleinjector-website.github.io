<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><style type="text/css">.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled { }.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled { }.OH_footer { }</style><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>ThreadScopedLifestyle Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="ThreadScopedLifestyle class" /><meta name="System.Keywords" content="SimpleInjector.Lifestyles.ThreadScopedLifestyle class" /><meta name="System.Keywords" content="ThreadScopedLifestyle class, about ThreadScopedLifestyle class" /><meta name="Microsoft.Help.F1" content="SimpleInjector.Lifestyles.ThreadScopedLifestyle" /><meta name="Microsoft.Help.Id" content="T:SimpleInjector.Lifestyles.ThreadScopedLifestyle" /><meta name="Description" content="Defines a lifestyle that caches instances during the lifetime of an explicitly defined scope using the BeginScope method. A scope is thread-specific, each thread should define its own scope." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="SimpleInjector.Lifestyles" /><meta name="file" content="T_SimpleInjector_Lifestyles_ThreadScopedLifestyle" /><meta name="guid" content="T_SimpleInjector_Lifestyles_ThreadScopedLifestyle" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="OH_outerDiv"><div class="OH_outerContent"><table class="TitleTable"><tr><td class="OH_tdTitleColumn"><h1>ThreadScopedLifestyle Class</h1></td><td class="OH_tdRunningTitleColumn">Simple Injector</td></tr></table><div id="mainSection"><div id="mainBody"><span class="introStyle"></span> <div class="summary">
            Defines a lifestyle that caches instances during the lifetime of an explicitly defined scope using the
            <a href="M_SimpleInjector_Lifestyles_ThreadScopedLifestyle_BeginScope.htm">BeginScope</a>
            method. A scope is thread-specific, each thread should define its own scope. Scopes can be nested and
            nested scopes will get their own instance. Instances created by this lifestyle can be disposed when 
            the created scope gets disposed. 
            </div><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Inheritance Hierarchy</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span id="LSTF9CA1148_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <a href="T_SimpleInjector_Lifestyle.htm">SimpleInjector<span id="LSTF9CA1148_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Lifestyle</a><br />    <a href="T_SimpleInjector_ScopedLifestyle.htm">SimpleInjector<span id="LSTF9CA1148_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>ScopedLifestyle</a><br />      <span class="selflink">SimpleInjector.Lifestyles<span id="LSTF9CA1148_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>ThreadScopedLifestyle</span><br /><p> </p>
    <strong>Namespace:</strong> 
   <a href="N_SimpleInjector_Lifestyles.htm">SimpleInjector.Lifestyles</a><br />
    <strong>Assembly:</strong>
   SimpleInjector (in SimpleInjector.dll) Version: 4.3.0<div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Syntax</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs"><div class="OH_CodeSnippetContainerTabLeft" id="ID0ECCA_tabimgleft"> </div><div id="ID0ECCA_tab1" class="OH_CodeSnippetContainerTabFirst"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','cs','1','3');return false;">C#</a></div><div id="ID0ECCA_tab2" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','vb','2','3');return false;">VB</a></div><div id="ID0ECCA_tab3" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0ECCA','asp','3','3');return false;">ASP.NET</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID0ECCA_tabimgright"> </div></div><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0ECCA_copyCode" href="#" class="OH_copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0ECCA');return false;" title="Copy">Copy</a></div></div><div id="ID0ECCA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">ThreadScopedLifestyle</span> : <span class="identifier">ScopedLifestyle</span></pre></div><div id="ID0ECCA_code_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Class</span> <span class="identifier">ThreadScopedLifestyle</span>
	<span class="keyword">Inherits</span> <span class="identifier">ScopedLifestyle</span></pre></div><div id="ID0ECCA_code_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve" /></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0ECCA");</script><p>The <span class="selflink">ThreadScopedLifestyle</span> type exposes the following members.</p><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Constructors</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><table class="members" id="constructorList"><tr><th class="ps_iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyles_ThreadScopedLifestyle__ctor.htm">ThreadScopedLifestyle</a></td><td><div class="summary">Initializes a new instance of the <span class="selflink">ThreadScopedLifestyle</span> class.
            The created and cached instance will be disposed when the created 
            <a href="T_SimpleInjector_Scope.htm">Scope</a> instance gets disposed and when the created object implements 
            <a href="http://msdn2.microsoft.com/en-us/library/aax125c9" target="_blank">IDisposable</a>.
            </div></td></tr></table><a href="#mainBody">Top</a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Properties</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><table class="members" id="propertyList"><tr><th class="ps_iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_SimpleInjector_ScopedLifestyle_Length.htm">Length</a></td><td><div class="summary">Gets the length of the lifestyle.</div> (Inherited from <a href="T_SimpleInjector_ScopedLifestyle.htm">ScopedLifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_SimpleInjector_Lifestyle_Name.htm">Name</a></td><td><div class="summary">Gets the user friendly name of this lifestyle.</div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr></table><a href="#mainBody">Top</a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Methods</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><table class="members" id="methodList"><tr><th class="ps_iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;static;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /><img src="../icons/static.gif" alt="Static member" title="Static member" /><img src="../icons/CodeExample.png" alt="Code example" title="Code example" /></td><td><a href="M_SimpleInjector_Lifestyles_ThreadScopedLifestyle_BeginScope.htm">BeginScope</a></td><td><div class="summary">
             Begins a new scope for the given <span class="parameter">container</span>. 
             Services, registered using the <span class="selflink">ThreadScopedLifestyle</span> are cached during the 
             lifetime of that scope. The scope should be disposed explicitly.
             </div></td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_SimpleInjector_Lifestyles_ThreadScopedLifestyle_CreateCurrentScopeProvider.htm">CreateCurrentScopeProvider</a></td><td><div class="summary">
            Creates a delegate that upon invocation return the current <a href="T_SimpleInjector_Scope.htm">Scope</a> for this
            lifestyle and the given <span class="parameter">container</span>, or null when the delegate is executed outside
            the context of such scope.
            </div> (Overrides <a href="M_SimpleInjector_ScopedLifestyle_CreateCurrentScopeProvider.htm">ScopedLifestyle<span id="LSTF9CA1148_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>CreateCurrentScopeProvider(Container)</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateProducer.htm">CreateProducer(Type, Type, Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_InstanceProducer.htm">InstanceProducer</a> instance for the given <span class="parameter">serviceType</span>
            that will create new instances of specified <span class="parameter">implementationType</span> with the 
            caching as specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateProducer__1.htm">CreateProducer<span id="LSTF9CA1148_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_5?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_6?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Func<span id="LSTF9CA1148_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_7?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_8?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_InstanceProducer.htm">InstanceProducer</a> instance for the given <span class="typeparameter">TService</span>
            that will create new instances instance using the supplied <span class="parameter">instanceCreator</span> 
            with the caching as specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateProducer__1_1.htm">CreateProducer<span id="LSTF9CA1148_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_9?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_10?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Type, Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_InstanceProducer.htm">InstanceProducer</a> instance for the given <span class="typeparameter">TService</span>
            that will create new instances of specified <span class="parameter">implementationType</span> caching as 
            specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateProducer__2.htm">CreateProducer<span id="LSTF9CA1148_11"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_11?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService, TImplementation<span id="LSTF9CA1148_12"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_12?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_InstanceProducer.htm">InstanceProducer</a> instance for the given <span class="typeparameter">TService</span>
            that will create new instances of specified <span class="typeparameter">TImplementation</span> with the 
            caching as specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateRegistration.htm">CreateRegistration(Type, Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_Registration.htm">Registration</a> instance defining the creation of the
            specified <span class="parameter">concreteType</span> with the caching as specified by this lifestyle,
            or returns an already created <a href="T_SimpleInjector_Registration.htm">Registration</a> instance for this container + lifestyle
            + type combination.
            This method might fail when run in a partial trust sandbox when <span class="parameter">concreteType</span>
            is an internal type.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateRegistration_1.htm">CreateRegistration(Type, Func<span id="LSTF9CA1148_13"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_13?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>Object<span id="LSTF9CA1148_14"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_14?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_Registration.htm">Registration</a> instance defining the creation of the
            specified <span class="parameter">serviceType</span>  using the supplied <span class="parameter">instanceCreator</span> 
            with the caching as specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateRegistration_2.htm">CreateRegistration(Type, Type, Container)</a></td><td> <strong>Obsolete. </strong><div class="summary">
            This overload has been deprecated. Please call <a href="M_SimpleInjector_Lifestyle_CreateRegistration.htm">CreateRegistration(Type, Container)</a>
            instead.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateRegistration__1.htm">CreateRegistration<span id="LSTF9CA1148_15"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_15?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TConcrete<span id="LSTF9CA1148_16"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_16?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_Registration.htm">Registration</a> instance defining the creation of the
            specified <span class="typeparameter">TConcrete</span> with the caching as specified by this lifestyle,
            or returns an already created <a href="T_SimpleInjector_Registration.htm">Registration</a> instance for this container + lifestyle
            + type combination.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateRegistration__1_1.htm">CreateRegistration<span id="LSTF9CA1148_17"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_17?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_18"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_18?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Func<span id="LSTF9CA1148_19"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_19?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_20"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_20?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_Registration.htm">Registration</a> instance defining the creation of the
            specified <span class="typeparameter">TService</span> using the supplied <span class="parameter">instanceCreator</span> 
            with the caching as specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_SimpleInjector_ScopedLifestyle_CreateRegistrationCore__1.htm">CreateRegistrationCore<span id="LSTF9CA1148_21"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_21?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TConcrete<span id="LSTF9CA1148_22"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_22?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_Registration.htm">Registration</a> instance defining the creation of the
            specified <span class="typeparameter">TConcrete</span> with the caching as specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_ScopedLifestyle.htm">ScopedLifestyle</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_SimpleInjector_Lifestyle_CreateRegistrationCore__1_1.htm">CreateRegistrationCore<span id="LSTF9CA1148_23"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_23?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_24"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_24?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Func<span id="LSTF9CA1148_25"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_25?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_26"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_26?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, Container)</a></td><td><div class="summary">
            When overridden in a derived class, 
            creates a new <a href="T_SimpleInjector_Registration.htm">Registration</a> instance defining the creation of the
            specified <span class="typeparameter">TService</span> using the supplied <span class="parameter">instanceCreator</span> 
            with the caching as specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_Lifestyle.htm">Lifestyle</a>.)</td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_SimpleInjector_ScopedLifestyle_CreateRegistrationCore__1_1.htm">CreateRegistrationCore<span id="LSTF9CA1148_27"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_27?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_28"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_28?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>(Func<span id="LSTF9CA1148_29"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_29?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>TService<span id="LSTF9CA1148_30"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_30?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>, Container)</a></td><td><div class="summary">
            Creates a new <a href="T_SimpleInjector_Registration.htm">Registration</a> instance defining the creation of the
            specified <span class="typeparameter">TService</span> using the supplied <span class="parameter">instanceCreator</span> 
            with the caching as specified by this lifestyle.
            </div> (Inherited from <a href="T_SimpleInjector_ScopedLifestyle.htm">ScopedLifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_ScopedLifestyle_GetCurrentScope.htm">GetCurrentScope</a></td><td><div class="summary">
            Returns the current <a href="T_SimpleInjector_Scope.htm">Scope</a> for this lifestyle and the given 
            <span class="parameter">container</span>, or null when this method is executed outside the context of a scope.
            </div> (Inherited from <a href="T_SimpleInjector_ScopedLifestyle.htm">ScopedLifestyle</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="M_SimpleInjector_Lifestyles_ThreadScopedLifestyle_GetCurrentScopeCore.htm">GetCurrentScopeCore</a></td><td><div class="summary">
            Returns the current <a href="T_SimpleInjector_Scope.htm">Scope</a> for this lifestyle and the given 
            <span class="parameter">container</span>, or null when this method is executed outside the context of a scope.
            </div> (Overrides <a href="M_SimpleInjector_ScopedLifestyle_GetCurrentScopeCore.htm">ScopedLifestyle<span id="LSTF9CA1148_31"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTF9CA1148_31?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>GetCurrentScopeCore(Container)</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_ScopedLifestyle_RegisterForDisposal.htm">RegisterForDisposal</a></td><td><div class="summary">
            Adds the <span class="parameter">disposable</span> to the list of items that will get disposed when the
            scope ends.
            </div> (Inherited from <a href="T_SimpleInjector_ScopedLifestyle.htm">ScopedLifestyle</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="M_SimpleInjector_ScopedLifestyle_WhenScopeEnds.htm">WhenScopeEnds</a></td><td><div class="summary">
            Allows registering an <span class="parameter">action</span> delegate that will be called when the scope ends,
            but before the scope disposes any instances.
            </div> (Inherited from <a href="T_SimpleInjector_ScopedLifestyle.htm">ScopedLifestyle</a>.)</td></tr></table><a href="#mainBody">Top</a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Examples</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div>
            The following example shows the usage of the <b>ThreadScopedLifestyle</b> class:
            <div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID0EAAABA_tabimgleft"> </div><div id="ID0EAAABA_tab1" class="OH_CodeSnippetContainerTabSolo">C#</div><div class="OH_CodeSnippetContainerTabRightActive" id="ID0EAAABA_tabimgright"> </div></div><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EAAABA_copyCode" href="#" class="OH_copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-keyword">var</span> container = <span class="highlight-keyword">new</span> Container();
container.Options.DefaultScopedLifestyle = <span class="highlight-keyword">new</span> ThreadScopedLifestyle();

container.Register&lt;IUnitOfWork, EntityFrameworkUnitOfWork&gt;(Lifestyle.Scoped);

<span class="highlight-keyword">using</span> (container.BeginLifetimeScope())
{
    <span class="highlight-keyword">var</span> instance1 = container.GetInstance&lt;IUnitOfWork&gt;();

    <span class="highlight-comment">// This call will return the same instance.</span>
    <span class="highlight-keyword">var</span> instance2 = container.GetInstance&lt;IUnitOfWork&gt;();

    Assert.IsTrue(<span class="highlight-keyword">object</span>.ReferenceEquals(instance1, instance2));

    <span class="highlight-comment">// Create a nested scope.</span>
    <span class="highlight-keyword">using</span> (container.BeginLifetimeScope())
    {
        <span class="highlight-comment">// A nested scope gets its own instance.</span>
        <span class="highlight-keyword">var</span> instance3 = container.GetInstance&lt;IUnitOfWork&gt;();

        Assert.IsFalse(<span class="highlight-keyword">object</span>.ReferenceEquals(instance1, instance3));

        <span class="highlight-comment">// This call will return the same instance.</span>
        <span class="highlight-keyword">var</span> instance4 = container.GetInstance&lt;IUnitOfWork&gt;();

        Assert.IsTrue(<span class="highlight-keyword">object</span>.ReferenceEquals(instance3, instance4));
    }
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABA");</script><div class="OH_CollapsibleAreaRegion" id="seeAlsoSection"><div class="OH_regiontitle">See Also</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="N_SimpleInjector_Lifestyles.htm">SimpleInjector.Lifestyles Namespace</a></div></div></div></div></div><div id="OH_footer" class="OH_footer"><p>Copyright (c) 2010 - 2015 Simple Injector Contributors</p> </div></body></html>